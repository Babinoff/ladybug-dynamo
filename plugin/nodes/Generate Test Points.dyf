<Workspace Version="1.0.0.1180" X="-18.4521292674405" Y="268.402699243294" zoom="0.813145682173102" Name="Generate Test Points" Description="Generate test points from a surface based on number of segments and distance from the surface" ID="3bb214f8-59b8-4ce8-969b-e42d4d05414e" Category="Ladybug.4|Extra">
  <NamespaceResolutionMap>
    <ClassMap partialName="List" resolvedName="DSCore.List" assemblyName="DSCoreNodes.dll" />
  </NamespaceResolutionMap>
  <Elements>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="327cf750-4256-43b2-b240-8e5b02e68015" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="255.028665016603" y="-121.438897200994" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="&quot;genTestPts_node.py&quot;;" ShouldFocus="false" />
    <PythonNodeModels.PythonStringNode guid="fc0e3492-553d-4cbf-975f-0a9c9943baaa" type="PythonNodeModels.PythonStringNode" nickname="Python Script From String" x="768.665539283445" y="55.8797190709341" isVisible="false" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" inputcount="4" />
    <Dynamo.Graph.Nodes.CustomNodes.Symbol guid="47c5c473-f42f-4d33-8bbf-9bb44c95a940" type="Dynamo.Graph.Nodes.CustomNodes.Symbol" nickname="Input" x="103.772484223064" y="83.9795266672901" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="True" IsFrozen="false" isPinned="false">
      <Symbol value="// A list or a single test surface&#xD;&#xA;_testSurfaces: var[]..[];" />
    </Dynamo.Graph.Nodes.CustomNodes.Symbol>
    <Dynamo.Graph.Nodes.CustomNodes.Symbol guid="6e6f490f-fadd-4bbd-9f6e-d25e99c5e874" type="Dynamo.Graph.Nodes.CustomNodes.Symbol" nickname="Input" x="99.9136959902683" y="148.84034453454" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="True" IsFrozen="false" isPinned="false">
      <Symbol value="//Number of divisions in U and V directions. Default is set to 10&#xD;&#xA;_numOfSegments_: int = 10;" />
    </Dynamo.Graph.Nodes.CustomNodes.Symbol>
    <Dynamo.Graph.Nodes.CustomNodes.Symbol guid="e4caa0cd-ef98-4a68-8edc-4ade2f4d5419" type="Dynamo.Graph.Nodes.CustomNodes.Symbol" nickname="Input" x="114.492240942569" y="217.565482295363" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="True" IsFrozen="false" isPinned="false">
      <Symbol value="//Test point distance from base surface. Default is set to 0.01&#xD;&#xA;_disFromSurface_: double = 0.01;" />
    </Dynamo.Graph.Nodes.CustomNodes.Symbol>
    <Dynamo.Graph.Nodes.CustomNodes.Output guid="f6078080-fdef-4ca8-8025-67a1affcb0f6" type="Dynamo.Graph.Nodes.CustomNodes.Output" nickname="Output" x="1219.60021684905" y="53.8775796135139" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false">
      <Symbol value="//Lists of list of Points&#xD;&#xA;testPts" />
    </Dynamo.Graph.Nodes.CustomNodes.Output>
    <Dynamo.Graph.Nodes.CustomNodes.Output guid="ac578a17-cce7-4812-b5e0-3a5ab0d079e5" type="Dynamo.Graph.Nodes.CustomNodes.Output" nickname="Output" x="1221.60877071839" y="123.976630808223" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false">
      <Symbol value="//Lists of list of points direction as Vector&#xD;&#xA;ptsNormal" />
    </Dynamo.Graph.Nodes.CustomNodes.Output>
    <Dynamo.Graph.Nodes.CodeBlockNodeModel guid="c8c6d27d-d6cb-4783-b787-7a848a76d904" type="Dynamo.Graph.Nodes.CodeBlockNodeModel" nickname="Code Block" x="1020.90954771454" y="59.2832924819929" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" CodeText="out[0];&#xA;out[1];" ShouldFocus="false" />
    <Dynamo.Graph.Nodes.CustomNodes.Output guid="4ba952bc-d799-45fa-83de-dfd7ee67ec1f" type="Dynamo.Graph.Nodes.CustomNodes.Output" nickname="Output" x="1188.55039621473" y="-123.474429544988" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false">
      <Symbol value="//Report&#xD;&#xA;ERRReport" />
    </Dynamo.Graph.Nodes.CustomNodes.Output>
    <PythonNodeModels.PythonNode guid="cf4cf512-a9e6-4557-bded-004b380d54dc" type="PythonNodeModels.PythonNode" nickname="Error Report!" x="1028.9403626533" y="-123.474429544988" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" inputcount="2">
      <Script>"""Report errors"""
importErr = IN[0]
runErr = IN[1]
errors = []

if importErr and str(importErr).startswith("ERROR:"):
	errors.append(importErr)

if runErr and str(runErr).startswith("ERROR:"):
	errors.append(runErr)

if len(errors)==0:
	OUT = "All good! Vvizzzz."
else:
	OUT = "\n".join(errors)</Script>
    </PythonNodeModels.PythonNode>
    <PythonNodeModels.PythonNode guid="453fc3eb-fa68-4264-9226-2a4af140bdee" type="PythonNodeModels.PythonNode" nickname="Find file and import it!" x="507.230301174541" y="-126.29188645639" isVisible="true" isUpstreamVisible="true" lacing="Disabled" isSelectedInput="False" IsFrozen="false" isPinned="false" inputcount="1">
      <Script>try:
	def getPackagePath(packageName):
		import sys
		sys.path.append('C:\Program Files (x86)\IronPython 2.7\Lib')
		import os
		import clr
		clr.AddReference('DynamoCore')
		_loc = clr.References[2].Location
		_ver = _loc.split('\\')[-2].split(' ')[-1]
		
		# the path structure has changed after the release of version 1
		dynamoPath_1 = "Dynamo\\Dynamo Revit\\" + _ver
		dynamoPath_0 = "Dynamo\\" + _ver
		appdata = os.getenv('APPDATA')
		path1 = r'%s\%s\packages\%s\extra\nodesrc\\'%(appdata, dynamoPath_1, packageName)
		path0 = r'%s\%s\packages\%s\extra\nodesrc\\'%(appdata, dynamoPath_0, packageName)
		
		if os.path.isdir(path1):
			return path1
		elif os.path.isdir(path0):
			return path0
		else:
			raise Exception("Can't find Dynamo installation Folder!")

	filePath = getPackagePath('Ladybug') + IN[0]

	with open(filePath, 'rb') as inf:
	    lines = inf.readlines()

	OUT = ''.join(lines)
except Exception, e:
	OUT = "ERROR: %s"%str(e) + \
		"\n\nIf you think this is a bug submit an issue on github.\n" + \
		"https://github.com/ladybug-analysis-tools/ladybug-dynamo/issues"</Script>
    </PythonNodeModels.PythonNode>
  </Elements>
  <Connectors>
    <Dynamo.Graph.Connectors.ConnectorModel start="327cf750-4256-43b2-b240-8e5b02e68015" start_index="0" end="453fc3eb-fa68-4264-9226-2a4af140bdee" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="fc0e3492-553d-4cbf-975f-0a9c9943baaa" start_index="0" end="c8c6d27d-d6cb-4783-b787-7a848a76d904" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="fc0e3492-553d-4cbf-975f-0a9c9943baaa" start_index="0" end="cf4cf512-a9e6-4557-bded-004b380d54dc" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="47c5c473-f42f-4d33-8bbf-9bb44c95a940" start_index="0" end="fc0e3492-553d-4cbf-975f-0a9c9943baaa" end_index="1" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="6e6f490f-fadd-4bbd-9f6e-d25e99c5e874" start_index="0" end="fc0e3492-553d-4cbf-975f-0a9c9943baaa" end_index="2" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="e4caa0cd-ef98-4a68-8edc-4ade2f4d5419" start_index="0" end="fc0e3492-553d-4cbf-975f-0a9c9943baaa" end_index="3" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="c8c6d27d-d6cb-4783-b787-7a848a76d904" start_index="0" end="f6078080-fdef-4ca8-8025-67a1affcb0f6" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="c8c6d27d-d6cb-4783-b787-7a848a76d904" start_index="1" end="ac578a17-cce7-4812-b5e0-3a5ab0d079e5" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="cf4cf512-a9e6-4557-bded-004b380d54dc" start_index="0" end="4ba952bc-d799-45fa-83de-dfd7ee67ec1f" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="453fc3eb-fa68-4264-9226-2a4af140bdee" start_index="0" end="cf4cf512-a9e6-4557-bded-004b380d54dc" end_index="0" portType="0" />
    <Dynamo.Graph.Connectors.ConnectorModel start="453fc3eb-fa68-4264-9226-2a4af140bdee" start_index="0" end="fc0e3492-553d-4cbf-975f-0a9c9943baaa" end_index="0" portType="0" />
  </Connectors>
  <Notes />
  <Annotations>
    <Dynamo.Graph.Annotations.AnnotationModel guid="f48a28b4-b32b-4ecd-b005-86a9e21c6db6" annotationText="load the script" left="245.028665016603" top="-151.438897200994" width="230" height="98" fontSize="14" InitialTop="-121.438897200994" InitialHeight="103.742759398363" TextblockHeight="20" backgrouund="#FFC1D676">
      <Models ModelGuid="327cf750-4256-43b2-b240-8e5b02e68015" />
    </Dynamo.Graph.Annotations.AnnotationModel>
  </Annotations>
  <Presets />
  <Cameras>
    <Camera Name="Background Preview" eyeX="-9.6294527053833" eyeY="16.2723979949951" eyeZ="-9.77249526977539" lookX="10.0564861297607" lookY="-24.9523124694824" lookZ="13.1959476470947" upX="0.421057403087616" upY="0.719339728355408" upZ="0.552504241466522" />
  </Cameras>
</Workspace>